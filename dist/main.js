!function(e){function t(t){for(var r,a,s=t[0],l=t[1],u=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);p.length;)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={1:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+({}[e]||e)+".js"}(e);var l=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}o[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://trackthismoment.com/dist/",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;i.push([21,2]),n()}([,,function(e,t,n){"use strict";var r=n(3),o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function a(e){return("00"+e).slice(-2)}function s(e,t){return void 0===t&&(t=null),0===e||24===e?t?"12:"+a(t)+"am":"12am":e<12?t?e+":"+a(t)+"am":e+"am":12===e?t?"12:"+a(t)+"pm":"12pm":e>12?t?e-12+":"+a(t)+"pm":e-12+"pm":void 0}function l(e){return o[e]}var u=Object(r.memoize)((function(e,t){return!t||e.split(" ").some((function(e){return t.split(" ").includes(e)}))}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.values)(e).join("_")})),c=Object(r.memoize)((function(e){return e.trim().toLowerCase().replace(/[^a-z0-9- _]/g,"").replace(/ +/g," ")}));t.a={getStandardTime:s,getMonth:l,getReadableTime:function(e){switch(!0){case e<=60:return Math.round(e)+"s";case e>60&&e<3600:return Math.round(e/60)+"m";case e>3600:return Math.floor(e/3600)+"h"+Math.round(e%3600/60)+"m";default:return""}},normalizer:c,isMatcher:u,getDayStartTime:function(e,t){void 0===e&&(e=0),void 0===t&&(t=Date.now());var n=new Date(t).setHours(0,0,0,0),r=new Date(n);return r.setDate(r.getDate()+e)},getDayEndTime:function(e,t){void 0===e&&(e=0),void 0===t&&(t=Date.now());var n=new Date(t).setHours(23,59,59,999),r=new Date(n);return r.setDate(r.getDate()+e)},isSameDay:function(e,t){return new Date(e).setHours(0,0,0,0)===new Date(t).setHours(0,0,0,0)},getReadableDate:function(e){var t,n=new Date(e);return{day:(t=n.getDay(),i[t]),date:n.getDate(),month:l(n.getMonth()),year:n.getFullYear()}},getReadableDaytime:function(e){var t=new Date(e);return s(t.getHours(),t.getMinutes())}}},,,,function(e,t,n){"use strict";var r={pageBgColor:"linear-gradient(73deg, rgb(0, 208, 255) 0%, rgb(97, 255, 208) 100%)",pageBgPatternUrl:"./dist/images/rainbow-0"+(Math.floor(9*Math.random())+1)+".jpg",taskBgColor:"linear-gradient(73deg, rgb(217, 0, 255) 0%, rgb(239, 250, 12) 100%)",taskBgColorAlt:"linear-gradient(73deg, rgb(187, 103, 251) 0%, rgb(0, 251, 176) 100%)",taskUnassignedBg:"repeating-linear-gradient( 45deg, transparent, transparent 10px, #333 10px, #333 20px)",taskUnassignedColor:"#000",taskUnassignedBorderColor:"#fff",dayExpandColor:"#fff",clockBgColor:"transparent",clockTimeColor:"#fff",hourMarkerColor:"rgb(238, 235, 29)",hourMarkerColorAlt:"rgb(0, 246, 179)",hourMarkerColorMidnight:"#6b6b6b",minuteMarkerColor:"rgb(115, 225, 223)",minuteMarkerColorAlt:"rgb(215, 2, 144)",headerBgColor:"linear-gradient(73deg, rgb(255, 47, 0) 0%, rgb(97, 251, 255) 100%)",mainMargin:"0 auto",timeMarkerColor:"#fff"};t.a={light:{pageBgColor:"#fff",pageBgPatternUrl:"./dist/images/light-bg.png",taskBgColor:"#fbfbfb",taskBgColorAlt:"#f5f4f4",taskUnassignedBg:"repeating-linear-gradient( 45deg, #cecece, #cecece 10px, #adacac 10px, #adacac 20px)",taskUnassignedColor:"#000",taskUnassignedBorderColor:"#c1c1c1",dayExpandColor:"#333",clockBgColor:"transparent",clockTimeColor:"red",hourMarkerColor:"#dad7d7",hourMarkerColorAlt:"#cecece",hourMarkerColorMidnight:"#6b6b6b",minuteMarkerColor:"#dad7d7",minuteMarkerColorAlt:"#cecece",headerBgColor:"linear-gradient(73deg, rgba(94,94,94,1) 0%, rgba(70,70,70,1) 100%)",mainMargin:"0 auto",timeMarkerColor:"red"},light2:{pageBgColor:"#fff",pageBgPatternUrl:"./dist/images/light-bg.png",taskBgColor:"#fbfbfb",taskBgColorAlt:"#f5f4f4",taskUnassignedBg:"repeating-linear-gradient( 45deg, #cecece, #cecece 10px, #adacac 10px, #adacac 20px)",taskUnassignedColor:"#000",taskUnassignedBorderColor:"#c1c1c1",dayExpandColor:"#333",clockBgColor:"transparent",clockTimeColor:"red",hourMarkerColor:"#dad7d7",hourMarkerColorAlt:"#cecece",hourMarkerColorMidnight:"#6b6b6b",minuteMarkerColor:"#dad7d7",minuteMarkerColorAlt:"#cecece",headerBgColor:"linear-gradient(73deg, rgba(94,94,94,1) 0%, rgba(70,70,70,1) 100%)",mainMargin:"0 auto",timeMarkerColor:"red"},dark:{pageBgColor:"#2d2c2c",pageBgPatternUrl:"./dist/images/dark-bg.png",taskBgColor:"#565656",taskBgColorAlt:"#616161",taskUnassignedBg:"repeating-linear-gradient( 45deg, #4e4b4b, #4e4b4b 10px, #333 10px, #333 20px)",taskUnassignedColor:"#fff",taskUnassignedBorderColor:"#333",dayExpandColor:"#fff",clockBgColor:"transparent",clockTimeColor:"#fff",hourMarkerColor:"#464545",hourMarkerColorAlt:"#525151",hourMarkerColorMidnight:"#2d2d2d",minuteMarkerColor:"#444444",minuteMarkerColorAlt:"#444242",headerBgColor:"linear-gradient(73deg, #403f3f 0%, #484848 100%)",mainMargin:"0 auto",timeMarkerColor:"#fff"},extreme:r}},,,function(e,t){},,function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=s(c),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:c,updater:b(p,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function h(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,y=0;function b(e,t){var n,r,o;if(t.singleton){var i=y++;n=f||(f=u(t)),r=p.bind(null,n,i,!1),o=p.bind(null,n,i,!0)}else n=u(t),r=h.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=l(e,t),u=0;u<n.length;u++){var c=s(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},,,,,,,function(e,t,n){var r=n(11),o=n(20);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},function(e,t,n){(t=n(12)(!1)).push([e.i,"/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n     ========================================================================== */\n\n/**\n   * Remove the margin in all browsers.\n   */\n\nbody {\n  margin: 0;\n}\n\n/**\n   * Render the `main` element consistently in IE.\n   */\n\nmain {\n  display: block;\n}\n\n/**\n   * Correct the font size and margin on `h1` elements within `section` and\n   * `article` contexts in Chrome, Firefox, and Safari.\n   */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n     ========================================================================== */\n\n/**\n   * 1. Add the correct box sizing in Firefox.\n   * 2. Show the overflow in Edge and IE.\n   */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n   * 1. Correct the inheritance and scaling of font size in all browsers.\n   * 2. Correct the odd `em` font sizing in all browsers.\n   */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n     ========================================================================== */\n\n/**\n   * Remove the gray background on active links in IE 10.\n   */\n\na {\n  background-color: transparent;\n}\n\n/**\n   * 1. Remove the bottom border in Chrome 57-\n   * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n   */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n   * Add the correct font weight in Chrome, Edge, and Safari.\n   */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n   * 1. Correct the inheritance and scaling of font size in all browsers.\n   * 2. Correct the odd `em` font sizing in all browsers.\n   */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n   * Add the correct font size in all browsers.\n   */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n   * Prevent `sub` and `sup` elements from affecting the line height in\n   * all browsers.\n   */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n     ========================================================================== */\n\n/**\n   * Remove the border on images inside links in IE 10.\n   */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n     ========================================================================== */\n\n/**\n   * 1. Change the font styles in all browsers.\n   * 2. Remove the margin in Firefox and Safari.\n   */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n   * Show the overflow in IE.\n   * 1. Show the overflow in Edge.\n   */\n\nbutton,\ninput {\n  /* 1 */\n  overflow: visible;\n}\n\n/**\n   * Remove the inheritance of text transform in Edge, Firefox, and IE.\n   * 1. Remove the inheritance of text transform in Firefox.\n   */\n\nbutton,\nselect {\n  /* 1 */\n  text-transform: none;\n}\n\n/**\n   * Correct the inability to style clickable types in iOS and Safari.\n   */\n\nbutton,\n[type='button'],\n[type='reset'],\n[type='submit'] {\n  -webkit-appearance: button;\n}\n\n/**\n   * Remove the inner border and padding in Firefox.\n   */\n\nbutton::-moz-focus-inner,\n[type='button']::-moz-focus-inner,\n[type='reset']::-moz-focus-inner,\n[type='submit']::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n   * Restore the focus styles unset by the previous rule.\n   */\n\nbutton:-moz-focusring,\n[type='button']:-moz-focusring,\n[type='reset']:-moz-focusring,\n[type='submit']:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n   * Correct the padding in Firefox.\n   */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n   * 1. Correct the text wrapping in Edge and IE.\n   * 2. Correct the color inheritance from `fieldset` elements in IE.\n   * 3. Remove the padding so developers are not caught out when they zero out\n   *    `fieldset` elements in all browsers.\n   */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n   * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n   */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n   * Remove the default vertical scrollbar in IE 10+.\n   */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n   * 1. Add the correct box sizing in IE 10.\n   * 2. Remove the padding in IE 10.\n   */\n\n[type='checkbox'],\n[type='radio'] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n   * Correct the cursor style of increment and decrement buttons in Chrome.\n   */\n\n[type='number']::-webkit-inner-spin-button,\n[type='number']::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n   * 1. Correct the odd appearance in Chrome and Safari.\n   * 2. Correct the outline style in Safari.\n   */\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n   * Remove the inner padding in Chrome and Safari on macOS.\n   */\n\n[type='search']::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n   * 1. Correct the inability to style clickable types in iOS and Safari.\n   * 2. Change font properties to `inherit` in Safari.\n   */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n     ========================================================================== */\n\n/*\n   * Add the correct display in Edge, IE 10+, and Firefox.\n   */\n\ndetails {\n  display: block;\n}\n\n/*\n   * Add the correct display in all browsers.\n   */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n     ========================================================================== */\n\n/**\n   * Add the correct display in IE 10+.\n   */\n\ntemplate {\n  display: none;\n}\n\n/**\n   * Add the correct display in IE 10.\n   */\n\n[hidden] {\n  display: none;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(4),a=n(5),s=n(0);n(9);var l,u=n(3),c=(n(19),function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}),d=function(){function e(e){var t=this;this.preferencesStore=e,this.currentTime=Date.now(),this.updateTime(),Object(s.autorun)((function(){t.updateTime()}))}return Object.defineProperty(e.prototype,"startAtHour",{get:function(){return new Date(this.startAt).getHours()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minutesPixelHeight",{get:function(){return 60*this.preferencesStore.secondsPixelHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoursPixelHeight",{get:function(){return 60*this.minutesPixelHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needlePosition",{get:function(){return this.getPixelPosition(this.currentTime)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateTimeEvery",{get:function(){return 1e3},enumerable:!0,configurable:!0}),e.prototype.updateTime=function(){var e=this;clearTimeout(this.updateTimeTimeout);var t=new Date;this.currentTime=t.getTime(),this.updateTimeTimeout=setTimeout((function(){return e.updateTime()}),this.updateTimeEvery)},e.prototype.getPixelPosition=function(e){return(e-this.startAt)/1e3*this.preferencesStore.secondsPixelHeight},e.prototype.getTimeFromPosition=function(e){var t=this.startAt+e/this.preferencesStore.secondsPixelHeight*1e3;return Math.floor(t)},e.prototype.getPixelHeight=function(e){return e/1e3*this.preferencesStore.secondsPixelHeight},c([s.observable],e.prototype,"startAt",void 0),c([s.observable],e.prototype,"currentTime",void 0),c([s.computed],e.prototype,"startAtHour",null),c([s.computed],e.prototype,"minutesPixelHeight",null),c([s.computed],e.prototype,"hoursPixelHeight",null),c([s.computed],e.prototype,"needlePosition",null),c([s.computed],e.prototype,"updateTimeEvery",null),c([s.action],e.prototype,"updateTime",null),e}(),p=n(2),h=n(6),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e};!function(e){e[e.ESCAPE=27]="ESCAPE",e[e.FORWARD_SLASH=220]="FORWARD_SLASH",e[e.BRACKET_OPEN=219]="BRACKET_OPEN",e[e.BRACKET_CLOSE=221]="BRACKET_CLOSE",e[e.SHIFT=16]="SHIFT",e[e.TAB=9]="TAB",e[e.ARROW_LEFT=37]="ARROW_LEFT",e[e.ARROW_RIGHT=39]="ARROW_RIGHT"}(l||(l={}));var m,k=function(){function e(e,t,n,r,o){var i=this;this.currentTaskTrimId=null,this.currentTaskReassignId=null,this.currentTaskResizeId=null,this.scrolledDate=0,this.isQuickMenuOn=!1,this.isLabelManagerOn=!1,this.isReportsOn=!1,this.isPreferencesOn=!1,this.isDayExpanded=!1,this.mousePosition=0,this.taskStore=e,this.labelStore=t,this.timeStore=n,this.notificationStore=r,this.preferencesStore=o,this.reportFromDate=this.timeStore.currentTime,this.reportToDate=this.timeStore.currentTime,Object(s.autorun)((function(){i.updateCurrentTaskLength(i.timeStore.currentTime)})),Object(s.autorun)((function(){i.updateBackground(i.currentTheme)})),this.updateCurrentDisplayDay(Date.now()),this.hydrate(),this.displayTasks(),setTimeout(this.centerTimeMarker.bind(this),500)}return e.prototype.handleKeydown=function(e){if(this.isLabelManagerOn||this.isQuickMenuOn||this.isPreferencesOn||this.isReportsOn)return!1;switch(e.keyCode){case l.ESCAPE:if(this.isTaskTrimOn)return this.disableTaskTrim(),!1;if(this.isTaskReassignOn)return this.disableTaskReassign(),!1;this.toggleCurrentTask();break;case l.BRACKET_OPEN:this.zoomOut();break;case l.BRACKET_CLOSE:this.zoomIn();break;case l.SHIFT:this.modifierKeyPressed=!0;break;case l.TAB:this.toggleLabelManager(!0);break;case l.ARROW_LEFT:this.modifierKeyPressed&&this.loadDay(-1);break;case l.ARROW_RIGHT:this.modifierKeyPressed&&this.loadDay(1);break;default:if(this.modifierKeyPressed){var t=e.key.toLowerCase();this.labelStore.shortcutExists(t)&&this.addTask(t)}else this.isQuickMenuOn||this.toggleQuickMenu(!0)}},e.prototype.handleKeyUp=function(e){switch(e.keyCode){case l.SHIFT:this.modifierKeyPressed=!1}},e.prototype.handleMouseUp=function(e){this.isTaskResizeOn&&(this.mergeTask(this.currentTaskResizeId),this.disableTaskResize(),this.save())},e.prototype.handleMouseDown=function(e){if(this.isTaskTrimOn)return this.trimTask(),!1;if(this.isLabelManagerOn||this.isPreferencesOn||this.isReportsOn)return!1;if(this.modifierKeyPressed){var t=this.timeStore.getTimeFromPosition(this.mousePosition+window.scrollY-125);return this.addTaskHolderWhole(t),!1}try{if(e.target.dataset&&e.target.dataset.bg){if(!this.isQuickMenuOn)if((t=this.timeStore.getTimeFromPosition(this.mousePosition+window.scrollY-125))<this.timeStore.currentTime)return!1;this.toggleQuickMenu(!this.isQuickMenuOn)}}catch(e){}},e.prototype.handleMouseMove=function(e){this.mousePosition=e.clientY,this.isTaskResizeOn&&this.currentTaskResizeId&&this.resizeTask(this.currentTaskResizeId,this.currentTaskResizeDirection,this.currentTaskResizeBoundaries,this.timeStore.getTimeFromPosition(this.mousePosition+window.scrollY-125-5))},e.prototype.mergeTask=function(e){},e.prototype.resizeTask=function(e,t,n,r){var o=this.taskStore.getTaskById(e),i=n.startAt,a=n.endAt;if("start"===t){var s=new Date(3e5*Math.floor(r/3e5)).getTime();return s<i&&(s=i),void(s+3e5<o.endAt&&(o.startAt=s))}if("end"===t){var l=new Date(3e5*Math.ceil(r/3e5)).getTime();return l>a&&(l=a),void(l-3e5>o.startAt&&(o.endAt=l))}},e.prototype.handleDoubleClick=function(e){try{if(e.target.dataset&&e.target.dataset.bg){var t=this.timeStore.getTimeFromPosition(this.mousePosition+window.scrollY-125);if(t<this.timeStore.currentTime)return this.addTaskHolderConstricted(t),!1}}catch(e){}try{e.target.dataset&&e.target.dataset.container&&this.canUpdateDay&&this.centerTimeMarker(!0)}catch(e){}},e.prototype.handleScroll=function(e){this.updateScrolledDate()},Object.defineProperty(e.prototype,"taskTrimMeta",{get:function(){if(this.currentTaskTrimId){var e=this.getTaskWithLabel(this.currentTaskTrimId);return{position:this.mousePosition-e.startAtPosition+window.scrollY-139,title:p.a.getReadableDaytime(this.timeStore.getTimeFromPosition(this.mousePosition+window.scrollY-125))}}return{position:0,title:""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerDate",{get:function(){return"stream"===this.preferencesStore.displayMode?this.scrolledDate:this.currentDisplayedDay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readableHeaderDate",{get:function(){return p.a.getReadableDate(this.headerDate)},enumerable:!0,configurable:!0}),e.prototype.updateScrolledDate=function(){var e=this.timeStore.getTimeFromPosition(window.scrollY);this.scrolledDate=e},Object.defineProperty(e.prototype,"canZoomIn",{get:function(){return this.preferencesStore.canZoomIn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canZoomOut",{get:function(){return this.preferencesStore.canZoomOut},enumerable:!0,configurable:!0}),e.prototype.zoomIn=function(){this.preferencesStore.zoomIn(),this.save()},e.prototype.zoomOut=function(){this.preferencesStore.zoomOut(),this.save()},e.prototype.reportBug=function(){alert(JSON.stringify(this.getSaved()))},e.prototype.displayTasks=function(){"stream"===this.preferencesStore.displayMode?this.loadAllDays():this.loadDay()},e.prototype.loadDay=function(e){void 0===e&&(e=0),this.updateCurrentDisplayDay(p.a.getDayStartTime(e,this.currentDisplayedDay)),this.taskStore.setDisplayRange(this.currentDisplayedDay,this.currentDisplayedDay),this.toggleIsDayExpanded(!1),this.adjustStartAt(),this.toggleQuickMenu(!1)},e.prototype.loadAllDays=function(){this.updateCurrentDisplayDay(Date.now()),this.taskStore.setDisplayRange(0,this.currentDisplayedDay),this.toggleIsDayExpanded(!1),this.adjustStartAt(),this.updateScrolledDate()},e.prototype.updateCurrentDisplayDay=function(e){this.currentDisplayedDay=e},e.prototype.centerTimeMarker=function(e){void 0===e&&(e=!1);var t={top:this.timeStore.needlePosition-window.innerHeight/4+125};e&&(t.behavior="smooth"),window.scrollTo(t)},e.prototype.toggleQuickMenu=function(e){if(e&&!this.canUpdateDay)return!1;this.isQuickMenuOn=e},e.prototype.toggleLabelManager=function(e){e&&this.toggleQuickMenu(!1),this.isLabelManagerOn=e},e.prototype.toggleReports=function(e){e&&this.toggleQuickMenu(!1),this.isReportsOn=e},e.prototype.togglePreferences=function(e){e&&this.toggleQuickMenu(!1),this.isPreferencesOn=e},e.prototype.toggleIsDayExpanded=function(e){this.isDayExpanded=e},e.prototype.reassignTask=function(e,t){var n=this.labelStore.getLabelById(t);window.confirm('Are you sure you want to reassign this task to "'+n.description+'"')&&this.taskStore.reassignTask(e,t)&&(this.save(),this.notifySuccess('Reassigned task to "'+n.description+'"')),this.disableTaskReassign()},e.prototype.enableTaskReassign=function(e){this.currentTaskReassignId=e},e.prototype.disableTaskReassign=function(){this.currentTaskReassignId=null},Object.defineProperty(e.prototype,"isTaskReassignOn",{get:function(){return null!==this.currentTaskReassignId},enumerable:!0,configurable:!0}),e.prototype.enableTaskResize=function(e,t){this.setCursor("row-resize"),this.currentTaskResizeDirection=t,this.currentTaskResizeId=e;var n=this.taskStore.getTaskBoundariesById(e),r=n.startAt,o=n.endAt;this.currentTaskResizeBoundaries={startAt:r,endAt:o>this.timeStore.currentTime?this.timeStore.currentTime:o}},e.prototype.disableTaskResize=function(){this.setCursor("default"),this.currentTaskResizeId=null,this.currentTaskResizeDirection="",this.currentTaskResizeBoundaries=null},Object.defineProperty(e.prototype,"isTaskResizeOn",{get:function(){return null!==this.currentTaskResizeId},enumerable:!0,configurable:!0}),e.prototype.trimTask=function(){if(this.isTaskTrimOn){var e=this.timeStore.getTimeFromPosition(this.mousePosition+window.scrollY-125),t=this.taskStore.getTaskById(this.currentTaskTrimId),n=this.labelStore.getLabelById(t.labelId).description,r=this.taskTrimMeta.title;if(e>t.startAt&&e<t.endAt)if(window.confirm('Are you sure you want to split "'+n+'" at '+r+"?")){var o=this.labelStore.getLabelById(t.labelId);this.taskStore.addTask(e+1,t.labelId,t.endAt),t.endAt=e,this.save(),this.disableTaskTrim(),this.notifySuccess('Task "'+o.description+'" was split at '+r)}}},e.prototype.enableTaskTrim=function(e){this.currentTaskTrimId=e},e.prototype.disableTaskTrim=function(){this.currentTaskTrimId=null},Object.defineProperty(e.prototype,"isTaskTrimOn",{get:function(){return null!==this.currentTaskTrimId},enumerable:!0,configurable:!0}),e.prototype.adjustStartAt=function(){0===this.taskStore.availableTasks.length||this.isDayExpanded?(this.timeStore.startAt=p.a.getDayStartTime(0,this.headerDate),this.toggleIsDayExpanded(!0)):this.timeStore.startAt=this.taskStore.getEarliestTaskHour()},Object.defineProperty(e.prototype,"canExpandDay",{get:function(){return this.timeStore.startAtHour>0},enumerable:!0,configurable:!0}),e.prototype.notifySuccess=function(e){this.notificationStore.queueNotification("success",e)},e.prototype.notifyError=function(e){this.notificationStore.queueNotification("error",e)},e.prototype.addLabel=function(e,t){if(t&&""!==t.trim()&&e&&""!==e.trim()){if(this.labelStore.getLabelByDescription(t))return!1;if(this.labelStore.addLabel(e,t))return this.notifySuccess('Added label "['+e.toUpperCase()+"] "+t+'"'),this.save(),!0}return this.notifyError("Sorry, could not add label. Enter a valid description"),!1},e.prototype.deleteLabel=function(e){var t=this.labelStore.getLabelById(e).description;window.confirm('Are you sure you want to delete label "'+t+'"?')&&(this.labelStore.deleteLabel(e,this.taskStore.hasTasksWithLabel(e)),this.save(),this.notifySuccess('Deleted label "'+t+'"'))},e.prototype.updateLabelVisibility=function(e,t){var n=this.labelStore.getLabelById(e);n&&(this.labelStore.updateLabelVisibility(n.id,t),this.save(),this.notifySuccess((t?"Showing":"Hiding")+' "'+n.description+'"'))},e.prototype.updateLabelDescription=function(e,t){if(this.labelStore.getLabelByDescription(t))return this.notifyError("Sorry, can't rename label to \""+t+'", it already exists'),!1;this.notifySuccess('Renamed label to "'+t+'"'),this.labelStore.updateLabelDescription(e,t),this.save()},e.prototype.makeShortcut=function(){return this.labelStore.makeShortcut()},e.prototype.sortLabelByDescription=function(e,t){var n=e.description.toLowerCase(),r=t.description.toLowerCase();return n>r?1:n<r?-1:0},e.prototype.sortLabelByTasks=function(e,t){var n=e.totalTasks,r=t.totalTasks;return n>r?-1:n<r?1:0},e.prototype.sortLabelByVisibility=function(e,t){return t.isVisible-e.isVisible},e.prototype.sortByCurrentTask=function(e,t){return t.isActive-e.isActive},Object.defineProperty(e.prototype,"labelsList",{get:function(){var e=this;return g(this.labelStore.labels.values()).map((function(t){var n=!1,r=0,o=0;return e.tasksWithLabels.forEach((function(e){e.label.shortcut===t.shortcut&&(r+=e.duration,o++)})),e.currentTaskId&&e.currentTask.label.id===t.id&&(n=!0),f(f({},t),{totalDuration:r,totalDurationReadable:p.a.getReadableTime(r/1e3),totalTasks:o,isActive:n})})).sort(this.sortLabelByDescription).sort(this.sortLabelByVisibility).sort(this.sortByCurrentTask)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBlurred",{get:function(){return this.isLabelManagerOn||this.isQuickMenuOn||this.isPreferencesOn||this.isReportsOn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notification",{get:function(){return this.notificationStore.notifications.slice()[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUpdateDay",{get:function(){return p.a.isSameDay(this.timeStore.currentTime,this.currentDisplayedDay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canPaginate",{get:function(){return"paginate"===this.currentDisplayMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canPaginateBack",{get:function(){return!p.a.isSameDay(this.taskStore.earliestTask||this.currentDisplayedDay,this.currentDisplayedDay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canPaginateNext",{get:function(){return!p.a.isSameDay(this.timeStore.currentTime,this.currentDisplayedDay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needle",{get:function(){var e={position:this.timeStore.needlePosition};return this.currentTask&&(e.color=this.currentTask.label.colorDarker),e},enumerable:!0,configurable:!0}),e.prototype.updateTheme=function(e){this.notifySuccess('Changed to "'+e+'" theme'),this.preferencesStore.updateTheme(e),this.save()},e.prototype.updateDisplayMode=function(e){switch(e){case"paginate":this.loadDay(0);break;case"stream":this.loadAllDays()}this.notifySuccess('Changed to "'+e+'" display mode'),this.preferencesStore.updateDisplayMode(e),this.save()},Object.defineProperty(e.prototype,"currentDisplayMode",{get:function(){return this.preferencesStore.displayMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTheme",{get:function(){return this.preferencesStore.theme},enumerable:!0,configurable:!0}),e.prototype.addTaskHolderWhole=function(e){var t=this.taskStore.getTaskBoundaries(e),n=t.startAt,r=t.endAt;this.taskStore.addTask(n,null,r>this.timeStore.currentTime?this.timeStore.currentTime:r),this.modifierKeyPressed=!1,this.adjustStartAt(),this.save()},e.prototype.addTaskHolderConstricted=function(e){var t=this.taskStore.getTaskBoundaries(e),n=t.startAt,r=t.endAt,o=new Date(18e5*Math.floor(e/18e5)).getTime();o>=n&&(n=o),n+18e5<r&&(r=n+18e5),r>this.timeStore.currentTime&&(r=this.timeStore.currentTime),this.taskStore.addTask(n,null,r),this.adjustStartAt(),this.save()},e.prototype.addTask=function(e){if(!this.canUpdateDay)return!1;if(this.currentTask&&this.currentTask.label.shortcut===e)return this.notifySuccess('Already tracking task "'+this.currentTask.label.description+'"'),!1;if(this.lastTask&&this.lastTask.label.shortcut===e&&this.lastTask.endAt+3e4>this.timeStore.currentTime)return this.currentTaskId=this.lastTaskId,this.lastTaskId=null,this.save(),this.notifySuccess('Continued tracking task "'+this.currentTask.label.description+'"'),!0;var t=this.labelStore.getLabelByShortcut(e);this.currentTaskId=this.taskStore.addTask(this.timeStore.currentTime,t.id),this.save(),this.notifySuccess('Started tracking task "'+this.currentTask.label.description+'"')},e.prototype.deleteTask=function(e){var t=this.getTaskWithLabel(e).label.description;window.confirm('Are you sure you want to delete task "'+t+'"?')&&this.taskStore.deleteTask(e)&&(this.currentTaskId===e&&(this.currentTaskId=null),this.lastTaskId===e&&(this.lastTaskId=null),this.adjustStartAt(),this.notifySuccess('Deleted task "'+t+'"'),this.save())},e.prototype.canTaskBeToggled=function(e){return this.lastTaskId===e?this.lastTask.endAt+3e4>this.timeStore.currentTime:this.currentTaskId===e||void 0},e.prototype.toggleCurrentTask=function(){if(this.currentTask){var e=this.currentTask.label.description;return this.lastTaskId=this.currentTaskId,this.currentTaskId=null,this.save(),this.notifySuccess('Stopped tracking task "'+e+'"'),!0}if(this.lastTask&&this.lastTask.endAt+3e4>this.timeStore.currentTime){var t=this.lastTask.label.description;return this.currentTaskId=this.lastTaskId,this.lastTaskId=null,this.notifySuccess('Continued tracking task "'+t+'"'),this.save(),!0}return!1},e.prototype.updateCurrentTaskLength=function(e){if(this.currentTaskId)if(p.a.isSameDay(this.currentTask.startAt,e)){this.taskStore.getTaskById(this.currentTaskId).endAt=e}else{var t=this.taskStore.getTaskById(this.currentTaskId);this.currentTaskId=this.taskStore.addTask(p.a.getDayStartTime(0,e),t.labelId),t.endAt=p.a.getDayEndTime(0,t.startAt),this.save()}},e.prototype.updateTaskColor=function(e){this.taskStore.getTaskById(this.currentTaskId).color=e},Object.defineProperty(e.prototype,"dayHours",{get:function(){var e="stream"===this.preferencesStore.displayMode,t=[],n=this.timeStore.startAtHour,r=!0,o=!1,i=25;for(e&&this.taskStore.availableTasksTotalHours>0?i=this.taskStore.availableTasksTotalHours+13:this.taskStore.availableTasksTotalHours>0&&this.timeStore.startAtHour>0&&(i=this.taskStore.availableTasksTotalHours+1);i--;)24===n?(r=!r,o=!0):o=!1,t.push({pixelHeight:this.timeStore.hoursPixelHeight,title:p.a.getStandardTime(n),zebra:r,isMidnight:o}),n=24===n?1:n+1;return t},enumerable:!0,configurable:!0}),e.prototype.sortTaskByLabelDescription=function(e,t){var n=e.label.description.toLowerCase(),r=t.label.description.toLowerCase();return n>r?1:n<r?-1:0},Object.defineProperty(e.prototype,"taskTotals",{get:function(){var e=this,t=new Map;return this.taskStore.getTasksBetween(p.a.getDayStartTime(0,this.headerDate),p.a.getDayEndTime(0,this.headerDate)).map((function(t){return e.getTaskWithLabel(t.id)})).filter((function(e){return e.label.id>0})).forEach((function(e){t.has(e.label.id)||t.set(e.label.id,{id:e.id,label:e.label,duration:0,readableDuration:0});var n=t.get(e.label.id);n.duration+=e.duration,n.readableDuration=p.a.getReadableTime(n.duration/1e3)})),g(t.values()).sort(this.sortTaskByLabelDescription)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tasksWithLabels",{get:function(){var e=this;return this.taskStore.availableTasks.map((function(t){return e.getTaskWithLabel(t.id)})).filter((function(e){return!!e}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTask",{get:function(){if(this.currentTaskId)return this.getTaskWithLabel(this.currentTaskId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastTask",{get:function(){if(this.lastTaskId)return this.getTaskWithLabel(this.lastTaskId)},enumerable:!0,configurable:!0}),e.prototype.getTaskWithLabel=function(e){var t=this.taskStore.getTaskById(e);if(t){var n=t.endAt-t.startAt,r=new Date(t.startAt),o=new Date(t.endAt);return f(f({},t),{startAtPosition:this.timeStore.getPixelPosition(t.startAt),pixelHeight:this.timeStore.getPixelHeight(n),duration:n,readableDuration:p.a.getReadableTime(n/1e3),readableStartAt:p.a.getStandardTime(r.getHours(),r.getMinutes()),readableEndAt:p.a.getStandardTime(o.getHours(),o.getMinutes()),label:this.labelStore.getLabelById(t.labelId)})}return null},e.prototype.collectDebugData=function(){var e=JSON.stringify(this.getSaved()),t=JSON.parse(e);return t.labelStore.labels=t.labelStore.labels.map((function(e,t){return e[1].description="Task "+(t+1),e})),t.labelStore.labelsGraveyard=t.labelStore.labelsGraveyard.map((function(e,t){return e[1].description="Task "+(t+1)+" (with label deleted)",e})),JSON.stringify(t)},e.prototype.updateBackground=function(e){var t=document.getElementsByTagName("html")[0];if(t){var n=h.a[e].pageBgPatternUrl,r=h.a[e].pageBgColor;t.style.backgroundColor="url("+r+")",t.style.backgroundImage="url("+n+")",t.style.backgroundAttachment="fixed"}},e.prototype.setCursor=function(e){document.body.style.cursor=e},e.prototype.hydrate=function(){var e=this.getSaved();if(e)try{this.currentTaskId=e.currentTaskId,this.labelStore.hydrate(e.labelStore),this.taskStore.hydrate(e.taskStore),this.preferencesStore.hydrate(e.preferencesStore)}catch(e){console.log(e)}},e.prototype.save=function(){var e={currentTaskId:this.currentTaskId,preferencesStore:this.preferencesStore.getSnapshot(),labelStore:this.labelStore.getSnapshot(),taskStore:this.taskStore.getSnapshot()};window.localStorage.setItem("xyz1",JSON.stringify(e))},e.prototype.getSaved=function(){var e=null;try{var t=window.localStorage.getItem("xyz1");t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e},y([s.observable],e.prototype,"currentTaskId",void 0),y([s.observable],e.prototype,"currentTaskTrimId",void 0),y([s.observable],e.prototype,"currentTaskReassignId",void 0),y([s.observable],e.prototype,"currentTaskResizeId",void 0),y([s.observable],e.prototype,"currentTaskResizeDirection",void 0),y([s.observable],e.prototype,"currentTaskResizeBoundaries",void 0),y([s.observable],e.prototype,"scrolledDate",void 0),y([s.observable],e.prototype,"isQuickMenuOn",void 0),y([s.observable],e.prototype,"isLabelManagerOn",void 0),y([s.observable],e.prototype,"isReportsOn",void 0),y([s.observable],e.prototype,"isPreferencesOn",void 0),y([s.observable],e.prototype,"isDayExpanded",void 0),y([s.observable],e.prototype,"currentDisplayedDay",void 0),y([s.observable],e.prototype,"mousePosition",void 0),y([s.observable],e.prototype,"reportFromDate",void 0),y([s.observable],e.prototype,"reportToDate",void 0),y([s.action],e.prototype,"handleMouseMove",null),y([s.action],e.prototype,"mergeTask",null),y([s.action],e.prototype,"resizeTask",null),y([s.computed],e.prototype,"taskTrimMeta",null),y([s.computed],e.prototype,"headerDate",null),y([s.computed],e.prototype,"readableHeaderDate",null),y([s.action],e.prototype,"updateScrolledDate",null),y([s.computed],e.prototype,"canZoomIn",null),y([s.computed],e.prototype,"canZoomOut",null),y([s.action],e.prototype,"updateCurrentDisplayDay",null),y([s.action],e.prototype,"toggleQuickMenu",null),y([s.action],e.prototype,"toggleLabelManager",null),y([s.action],e.prototype,"toggleReports",null),y([s.action],e.prototype,"togglePreferences",null),y([s.action],e.prototype,"toggleIsDayExpanded",null),y([s.action],e.prototype,"enableTaskReassign",null),y([s.action],e.prototype,"disableTaskReassign",null),y([s.computed],e.prototype,"isTaskReassignOn",null),y([s.action],e.prototype,"enableTaskResize",null),y([s.action],e.prototype,"disableTaskResize",null),y([s.computed],e.prototype,"isTaskResizeOn",null),y([s.action],e.prototype,"trimTask",null),y([s.action],e.prototype,"enableTaskTrim",null),y([s.action],e.prototype,"disableTaskTrim",null),y([s.computed],e.prototype,"isTaskTrimOn",null),y([s.action],e.prototype,"adjustStartAt",null),y([s.computed],e.prototype,"canExpandDay",null),y([s.computed],e.prototype,"labelsList",null),y([s.computed],e.prototype,"isBlurred",null),y([s.computed],e.prototype,"notification",null),y([s.computed],e.prototype,"canUpdateDay",null),y([s.computed],e.prototype,"canPaginate",null),y([s.computed],e.prototype,"canPaginateBack",null),y([s.computed],e.prototype,"canPaginateNext",null),y([s.computed],e.prototype,"needle",null),y([s.computed],e.prototype,"currentDisplayMode",null),y([s.computed],e.prototype,"currentTheme",null),y([s.action],e.prototype,"addTaskHolderWhole",null),y([s.action],e.prototype,"addTaskHolderConstricted",null),y([s.action],e.prototype,"addTask",null),y([s.action],e.prototype,"deleteTask",null),y([s.action],e.prototype,"toggleCurrentTask",null),y([s.action],e.prototype,"updateCurrentTaskLength",null),y([s.action],e.prototype,"updateTaskColor",null),y([s.computed],e.prototype,"dayHours",null),y([s.computed],e.prototype,"taskTotals",null),y([s.computed],e.prototype,"tasksWithLabels",null),y([s.computed],e.prototype,"currentTask",null),y([s.computed],e.prototype,"lastTask",null),y([s.action],e.prototype,"hydrate",null),y([s.action],e.prototype,"save",null),e}(),T=function(e,t){var n=parseInt(e,16)-t,r=n<0?0:n;return r=r.toString(16).length>1?r.toString(16):"0"+r.toString(16)},v=function(e,t){return e=e.indexOf("#")>=0?e.substring(1,e.length):e,t=parseInt(255*t/100),"#"+T(e.substring(0,2),t)+T(e.substring(2,4),t)+T(e.substring(4,6),t)},S=function(){var e=["6497b1","851e3e","dec3c3","FF8484","FF9CE8","EFA4FE","BEA3FE","B16EC8","B677B6","B869F6","8577E6","7CA2D4","75A2D3","94B4FF","9ED6FF","67EAFD","59F8DD","6CDD88","9ABF9C","A8D558","DED263","FFC475","DBAA98","D4A7A7","ED7B7B","D57B94","AC71BA","6385D3","8FBEB4"];return"#"+e[Math.floor(Math.floor(Math.random()*e.length))]},D=function(){return(D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},A=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},C=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},O=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C(arguments[t]));return e},P=function(){function e(){this.labels=new Map,this.labelsGraveyard=new Map,this.shortcutsCache=new Set,this.alphabet=new Set("abcdefghijklmnopqrstuvwxyz")}return e.prototype.addLabel=function(e,t){var n=S(),r=Date.now(),o={id:r,color:n,colorDarker:v(n,5),shortcut:e,description:t,isVisible:!0};return!this.shortcutExists(o.shortcut)&&(this.shortcutsCache.add(o.shortcut),this.labels.set(r,o),!0)},e.prototype.updateShortcut=function(e,t){if(!this.shortcutsCache.has(t)){var n=this.labels.get(e);n&&(this.shortcutsCache.delete(n.shortcut),this.shortcutsCache.add(t),n.shortcut=t)}},e.prototype.deleteLabel=function(e,t){void 0===t&&(t=!1);var n=this.labels.get(e);n&&(t&&this.labelsGraveyard.set(e,D(D({},n),{shortcut:""})),this.shortcutsCache.delete(n.shortcut),this.labels.delete(e))},e.prototype.makeShortcut=function(){for(var e,t,n="",r=1;""===n;){try{for(var o=(e=void 0,w(this.alphabet)),i=o.next();!i.done;i=o.next()){if(n=i.value.repeat(r),!this.shortcutsCache.has(n))break;n=""}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}r++}return n},e.prototype.updateLabelDescription=function(e,t){var n=this.getLabelByShortcut(e);n&&(n.description=t)},e.prototype.updateLabelVisibility=function(e,t){var n=this.getLabelById(e);if(n)return n.isVisible=t,!0},e.prototype.shortcutExists=function(e){return this.shortcutsCache.has(e)},e.prototype.getLabelById=function(e){return this.labels.has(e)?this.labels.get(e):this.labelsGraveyard.has(e)?this.labelsGraveyard.get(e):{id:-1,color:"#ccc",colorDarker:"#afafaf",shortcut:" ",description:"Unassigned",isVisible:!1}},e.prototype.getLabelByShortcut=function(e){var t,n;try{for(var r=w(this.labels),o=r.next();!o.done;o=r.next()){var i=C(o.value,2),a=(i[0],i[1]);if(a.shortcut===e)return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e.prototype.getLabelByDescription=function(e){var t,n;try{for(var r=w(this.labels),o=r.next();!o.done;o=r.next()){var i=C(o.value,2),a=(i[0],i[1]);if(a.description===e)return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return console.log("null"),null},e.prototype.hydrate=function(e){this.labels=new Map(e.labels),this.labelsGraveyard=new Map(e.labelsGraveyard),this.shortcutsCache=new Set(e.shortcutsCache)},e.prototype.getSnapshot=function(){return{labels:O(this.labels),labelsGraveyard:O(this.labelsGraveyard),shortcutsCache:O(this.shortcutsCache)}},A([s.observable],e.prototype,"labels",void 0),A([s.observable],e.prototype,"labelsGraveyard",void 0),A([s.action],e.prototype,"addLabel",null),A([s.action],e.prototype,"updateShortcut",null),A([s.action],e.prototype,"updateLabelDescription",null),A([s.action],e.prototype,"updateLabelVisibility",null),e}(),E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},M=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},R=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},x=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R(arguments[t]));return e},I=function(){function e(){this.previousDaysToDisplay=0,this.tasks=new Map,this.setDisplayRange(Date.now(),Date.now())}return e.prototype.addTask=function(e,t,n){var r=e,o={id:r,labelId:t,startAt:e,endAt:n||e,duration:0,pixelHeight:10,isHidden:!1};return this.tasks.set(r,o),r},e.prototype.deleteTask=function(e){return this.tasks.delete(e),!0},e.prototype.getEarliestTaskHour=function(){return this.earliestAvailableTask?new Date(Number(this.earliestAvailableTask)).setMinutes(0,0):null},e.prototype.hasTasksWithLabel=function(e){var t,n;try{for(var r=M(this.tasks),o=r.next();!o.done;o=r.next()){var i=R(o.value,2);i[0];if(i[1].labelId===e)return!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1},e.prototype.getTaskById=function(e){return this.tasks.get(e)},e.prototype.getTaskDuration=function(e){var t=this.getTaskById(e);return t?t.endAt-t.startAt/1e3:0},e.prototype.getTaskBoundaries=function(e){var t=p.a.getDayStartTime(0,e),n=p.a.getDayEndTime(0,e);return this.availableTasks.length>0&&this.availableTasks.forEach((function(r){r.endAt<e&&r.endAt>t?t=r.endAt:r.startAt>e&&r.startAt<n&&(n=r.startAt)})),{startAt:t,endAt:n}},e.prototype.getTaskBoundariesById=function(e){var t=this.getTaskById(e);if(t){var n=t.startAt+Math.floor((t.endAt-t.startAt)/2);return this.getTaskBoundaries(n)}},e.prototype.getTasksBetween=function(e,t){return x(this.tasks.values()).filter((function(n){if(n.startAt>=e&&n.startAt<=t)return n}))},e.prototype.setDisplayRange=function(e,t){this.tasksDisplayStartAt=p.a.getDayStartTime(0,e),this.tasksDisplayEndAt=p.a.getDayEndTime(0,t)},e.prototype.reassignTask=function(e,t){var n=this.getTaskById(e);return!!n&&(n.labelId=t,!0)},Object.defineProperty(e.prototype,"earliestTask",{get:function(){var e=0;return this.tasks.size>0&&this.tasks.forEach((function(t){e=0===e||t.startAt<e?t.startAt:e})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"earliestAvailableTask",{get:function(){var e=0;return this.availableTasks.length>0&&this.availableTasks.forEach((function(t){e=0===e||t.startAt<e?t.startAt:e})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latestAvailableTask",{get:function(){var e=0;return this.availableTasks.length>0&&this.availableTasks.forEach((function(t){e=0===e||t.startAt>e?t.startAt:e})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableTasksTotalHours",{get:function(){return this.earliestAvailableTask&&this.latestAvailableTask?Math.ceil((p.a.getDayEndTime(0,this.latestAvailableTask)-this.earliestAvailableTask)/36e5):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableTasks",{get:function(){var e=this;return x(this.tasks.values()).filter((function(t){if(t.startAt>=e.tasksDisplayStartAt&&t.startAt<=e.tasksDisplayEndAt)return t}))},enumerable:!0,configurable:!0}),e.prototype.hydrate=function(e){this.tasks=new Map(e.tasks)},e.prototype.getSnapshot=function(){return{tasks:x(this.tasks)}},E([s.observable],e.prototype,"tasks",void 0),E([s.observable],e.prototype,"previousDaysToDisplay",void 0),E([s.observable],e.prototype,"tasksDisplayStartAt",void 0),E([s.observable],e.prototype,"tasksDisplayEndAt",void 0),E([s.action],e.prototype,"addTask",null),E([s.action],e.prototype,"setDisplayRange",null),E([s.action],e.prototype,"reassignTask",null),E([s.computed],e.prototype,"earliestTask",null),E([s.computed],e.prototype,"earliestAvailableTask",null),E([s.computed],e.prototype,"latestAvailableTask",null),E([s.computed],e.prototype,"availableTasksTotalHours",null),E([s.computed],e.prototype,"availableTasks",null),e}(),B=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},L=function(){function e(){this.notifications=[]}return e.prototype.queueNotification=function(e,t){this.notifications.some((function(n){return n.type===e&&n.message===t}))||this.notifications.push({type:e,message:t}),this.scheduleNotificationRemoval()},e.prototype.scheduleNotificationRemoval=function(){var e=this;clearTimeout(this.notificationTimeout),this.notifications.length>0&&(this.notificationTimeout=setTimeout((function(){e.deleteQueuedNotification(),e.scheduleNotificationRemoval()}),2500))},e.prototype.deleteQueuedNotification=function(){this.notifications.shift()},B([s.observable],e.prototype,"notifications",void 0),B([s.action],e.prototype,"queueNotification",null),B([s.action],e.prototype,"deleteQueuedNotification",null),e}(),j=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.SMALLEST=.02]="SMALLEST",e[e.LARGEST=.6]="LARGEST",e[e.STEP=.04]="STEP"}(m||(m={}));var z=function(){function e(){this.theme="dark",this.displayMode="paginate",this.secondsPixelHeight=m.SMALLEST}return e.prototype.zoomIn=function(){var e=this.secondsPixelHeight+m.STEP>=m.LARGEST?m.LARGEST-this.secondsPixelHeight:m.STEP;this.secondsPixelHeight+=e},Object.defineProperty(e.prototype,"canZoomIn",{get:function(){return this.secondsPixelHeight<m.LARGEST},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canZoomOut",{get:function(){return this.secondsPixelHeight>m.SMALLEST},enumerable:!0,configurable:!0}),e.prototype.zoomOut=function(){var e=this.secondsPixelHeight-m.STEP<=m.SMALLEST?this.secondsPixelHeight-m.SMALLEST:m.STEP;this.secondsPixelHeight-=e},e.prototype.updateTheme=function(e){this.theme=e},e.prototype.setDisplayDay=function(e){this.currentDisplayedDay=e},e.prototype.updateDisplayMode=function(e){this.displayMode=e},e.prototype.hydrate=function(e){this.displayMode=e.displayMode,this.theme=e.theme,this.secondsPixelHeight=e.secondsPixelHeight},e.prototype.getSnapshot=function(){return{displayMode:this.displayMode,theme:this.theme,secondsPixelHeight:this.secondsPixelHeight}},j([s.observable],e.prototype,"secondsPixelHeight",void 0),j([s.observable],e.prototype,"theme",void 0),j([s.observable],e.prototype,"currentDisplayedDay",void 0),j([s.observable],e.prototype,"displayMode",void 0),j([s.action],e.prototype,"zoomIn",null),j([s.computed],e.prototype,"canZoomIn",null),j([s.computed],e.prototype,"canZoomOut",null),j([s.action],e.prototype,"zoomOut",null),j([s.action],e.prototype,"updateTheme",null),j([s.action],e.prototype,"setDisplayDay",null),j([s.action],e.prototype,"updateDisplayMode",null),e}();Object(s.configure)({enforceActions:"observed"});var H=o.a.lazy((function(){return n.e(4).then(n.bind(null,88))})),F=o.a.lazy((function(){return n.e(10).then(n.bind(null,89))})),U=o.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,95))})),N=o.a.lazy((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,94))})),W=o.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,90))})),_=o.a.lazy((function(){return n.e(5).then(n.bind(null,91))})),G=o.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,92))})),Q=o.a.lazy((function(){return Promise.all([n.e(11),n.e(0),n.e(9)]).then(n.bind(null,93))}));var K=new z,J=new d(K),V=new P,Y=new k(new I,V,J,new L,K);document.addEventListener("keydown",Object(u.throttle)(Y.handleKeydown,250).bind(Y)),document.addEventListener("keyup",Object(u.debounce)(Y.handleKeyUp,100).bind(Y)),document.addEventListener("mousedown",Y.handleMouseDown.bind(Y),!1),document.addEventListener("mouseup",Y.handleMouseUp.bind(Y),!1),document.addEventListener("mousemove",Object(u.throttle)(Y.handleMouseMove,50).bind(Y)),document.addEventListener("dblclick",Y.handleDoubleClick.bind(Y),!1),window.addEventListener("scroll",Object(u.debounce)(Y.handleScroll,250).bind(Y));i.render(o.a.createElement((function(){return o.a.createElement(a.Provider,{rootStore:Y},o.a.createElement(o.a.Suspense,{fallback:""},o.a.createElement(Q,null,o.a.createElement(W,null),o.a.createElement(N,null),o.a.createElement(G,null),o.a.createElement(_,null,o.a.createElement(H,null),o.a.createElement(U,null),o.a.createElement(F,null)))))}),null),document.getElementById("root"))}]);